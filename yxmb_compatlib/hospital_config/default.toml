# 通用设置
[settings]
  base_url = "http://127.0.0.1:8000"
  default_timeout = 30

# 登录页面
[login]
  # 场景一：常见登录页
  username = ["id", "j_username"]
  password = ["id", "j_password"]
  login_button = ["class_name", "submit-btn"]

  # 验证码相关（如果存在）
  captcha_enabled = true # 通过此开关控制是否处理验证码，医院配置可覆盖为 false
  captcha_image = ["id", "img"]
  captcha_input = ["xpath", "//*[@id='verifyCode']"]

  # 登录后选择科室（动态XPath，使用 .format(科室名) 填充）
  department_button = ["xpath", "//div[contains(text(), '{name}')]"]

  # 登录后执行的操作序列
  # type 可为: "switch_window", "maximize_window", "click", "handle_alert"
  post_login_actions = [
    { type = "switch_window" },
    { type = "maximize_window" },
    { type = "handle_alert" },
    { type = "click", locator = ["xpath", "//*[@id='dd65-ddheader']"], description = "点击主菜单/导航头" },
    { type = "handle_alert" },
    { type = "click", locator = ["xpath", "//span[text()='健康档案']"], description = "点击健康档案菜单" },
    { type = "handle_alert" },
    { type = "click", locator = ["xpath", "//*[@id='button-1005-btnIconEl']"], description = "关闭可能出现的弹窗", optional = true }
  ]
